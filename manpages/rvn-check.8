.Dd June 2, 2024
.Dt RVN-CHECK 8
.Os
.Sh NAME
.Nm "rvn check"
.Nd Verifies integrity of installed packages
.Sh SYNOPSIS
.Nm
.Op Fl d | Fl f
.Op Fl q | Fl v
.Pp
.Nm
.Op Cm --depends-only | --files-only
.Op Cm --quiet | --verbose
.Sh DESCRIPTION
.Nm
Performs an integrity check on the installed package database.
The first check determines if any listed package dependencies
are not installed.
Each missing dependency is listed as output.
.Pp
The next check determines the integrity of every file of every
installed package.
Any calculated checksum that does not match the recorded digest
is listed as output.
.Sh OPTIONS
The following options are supported by
.Nm :
.Bl -tag -width repository
.It Fl d , Cm --depends-only
Only the first integrity check is performed.
.It Fl f , Cm --files-only
Only the second integrity check is performed.
.It Fl q , Cm --quiet
The headers and empty lines are omitted from the output.
.It Fl v , Cm --verbose
By default, the file integrity check only outputs the package triplet.
If verbosity is turned on, each damaged file is listed as additional lines.
Similarly for the dependency check, the package(s) missing the dependency will
be listed on additional lines.
.El
.Sh ENVIRONMENT
The following environment variables affect the execution of
.Nm .
See
.Xr rvn.conf 5
for further description.
.Bl -tag -width ".Ev NO_DESCRIPTIONS"
.It Ev RVN_DBDIR
.El
.Sh SEE ALSO
.Xr rvn-keywords 5 ,
.Xr rvn-lua-scripts 5 ,
.Xr rvn-repository 5 ,
.Xr rvn-scripts 5 ,
.Xr rvn-triggers 5 ,
.Xr rvn.conf 5 ,
.Xr rvn 8 ,
.Xr rvn-alias 8 ,
.Xr rvn-annotate 8 ,
.Xr rvn-audit 8 ,
.Xr rvn-autoremove 8 ,
.Xr rvn-catalog 8 ,
.Xr rvn-clean 8 ,
.Xr rvn-config 8 ,
.Xr rvn-create 8 ,
.Xr rvn-fetch 8 ,
.Xr rvn-genrepo 8 ,
.Xr rvn-info 8 ,
.Xr rvn-install 8 ,
.Xr rvn-query 8 ,
.Xr rvn-remove 8 ,
.Xr rvn-rquery 8 ,
.Xr rvn-search 8 ,
.Xr rvn-shell 8 ,
.Xr rvn-shlib 8 ,
.Xr rvn-stats 8 ,
.Xr rvn-upgrade 8 ,
.Xr rvn-version 8 ,
.Xr rvn-which 8
